<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>智能商贸——进销存系统 | 孙雷的学习笔记</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="项目介绍 这个项目是干什么的 对企业生产经营中进货、出货、批发销售、付款等进行全程进行（从接获订单合同开始，进入物料采购、入库、领用到产品完工入库、交货、回收货款、支付原材料款等）跟踪（每一步都提供详尽准确的数据）、管理（有效辅助企业解决业务管理、分销管理、存货管理、营销计划的执行和监控、统计信息的收集等方面的业务问题）而设计的整套方案 项目用到哪些技术 spring+springMVC+spri">
<meta property="og:type" content="article">
<meta property="og:title" content="智能商贸——进销存系统">
<meta property="og:url" content="http://yoursite.com/2019/06/27/（Spring+SpringDataJPA+SpringMVC+EasyUI+Maven)-智能商贸/index.html">
<meta property="og:site_name" content="孙雷的学习笔记">
<meta property="og:description" content="项目介绍 这个项目是干什么的 对企业生产经营中进货、出货、批发销售、付款等进行全程进行（从接获订单合同开始，进入物料采购、入库、领用到产品完工入库、交货、回收货款、支付原材料款等）跟踪（每一步都提供详尽准确的数据）、管理（有效辅助企业解决业务管理、分销管理、存货管理、营销计划的执行和监控、统计信息的收集等方面的业务问题）而设计的整套方案 项目用到哪些技术 spring+springMVC+spri">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-07-16T10:33:05.659Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="智能商贸——进销存系统">
<meta name="twitter:description" content="项目介绍 这个项目是干什么的 对企业生产经营中进货、出货、批发销售、付款等进行全程进行（从接获订单合同开始，进入物料采购、入库、领用到产品完工入库、交货、回收货款、支付原材料款等）跟踪（每一步都提供详尽准确的数据）、管理（有效辅助企业解决业务管理、分销管理、存货管理、营销计划的执行和监控、统计信息的收集等方面的业务问题）而设计的整套方案 项目用到哪些技术 spring+springMVC+spri">
  
    <link rel="alternate" href="/atom.xml" title="孙雷的学习笔记" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">孙雷的学习笔记</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-（Spring+SpringDataJPA+SpringMVC+EasyUI+Maven)-智能商贸" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/27/（Spring+SpringDataJPA+SpringMVC+EasyUI+Maven)-智能商贸/" class="article-date">
  <time datetime="2019-06-27T01:21:28.000Z" itemprop="datePublished">2019-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      智能商贸——进销存系统
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h1><ol>
<li>这个项目是干什么的<br> 对企业生产经营中进货、出货、批发销售、付款等进行全程进行（从接获订单合同开始，进入物料采购、入库、领用到产品完工入库、交货、回收货款、支付原材料款等）跟踪（每一步都提供详尽准确的数据）、管理（有效辅助企业解决业务管理、分销管理、存货管理、营销计划的执行和监控、统计信息的收集等方面的业务问题）而设计的整套方案</li>
<li>项目用到哪些技术<br> spring+springMVC+springDataJpa+shiro+easyui+easypoi+maven+hightchart+idea</li>
<li><p>模块</p>
<ol>
<li>基础模块(用户管理，产品模块，数据字典，客户管理…)</li>
<li>权限模块(shiro)</li>
<li>登录模块(第三方登录，自动登录，限制登录人数，手机登录，忘记密码…)</li>
<li>采购模块</li>
<li>报表模块(多张表进行连表查询最终做的统计)</li>
<li>库存模块<h1 id="SpringDataJpa"><a href="#SpringDataJpa" class="headerlink" title="SpringDataJpa"></a>SpringDataJpa</h1>spring在jpa基础上又做了一层封装让你做crud更加简单<h1 id="sssdj的集成步骤"><a href="#sssdj的集成步骤" class="headerlink" title="sssdj的集成步骤"></a>sssdj的集成步骤</h1></li>
<li>创建web项目</li>
<li>导入相应的jar包</li>
<li>配置ApplicationContext.xml文件<ol>
<li>编写jdbc.properties</li>
<li>DataSource</li>
<li>EntityManagerFactory<ol>
<li>依赖dataSource</li>
<li>扫描domain包</li>
<li>具体实现的框架<br> 方言<br> 是否显示sql<br> 建表策略</li>
</ol>
</li>
</ol>
</li>
<li>springMvc的核心配置<ol>
<li>扫描controller包</li>
<li>开启springMvc注解支持</li>
<li>静态资源放行</li>
<li>视图解析器</li>
</ol>
</li>
<li>web.xml<ol>
<li>启动spring容器</li>
<li>启动springMvc容器</li>
<li>解决post提交乱码问题<h1 id="完成domain层"><a href="#完成domain层" class="headerlink" title="完成domain层"></a>完成domain层</h1><h1 id="Velocity模板技术"><a href="#Velocity模板技术" class="headerlink" title="Velocity模板技术"></a>Velocity模板技术</h1><h2 id="EasyCode"><a href="#EasyCode" class="headerlink" title="EasyCode"></a>EasyCode</h2>EasyCode是基于IntelliJ IDEA Ultimate版开发的一个代码生成插件，主要通过自定义模板（基于velocity）来生成各种你想要的代码。通常用于生成Entity、Dao、Service、Controller。如果你动手能力强还可以用于生成HTML、JS、PHP等代码。理论上来说只要是与数据有关的代码都是可以生成的。<h1 id="shiro"><a href="#shiro" class="headerlink" title="shiro"></a>shiro</h1>shiro：shiro是一个强大易用的java安全框架<br>常见的权限框架</li>
</ol>
</li>
<li>spring security<ol>
<li>是spring公司的产品，它功能非常强大，属于重量级框架，提供的API文档非常丰富</li>
</ol>
</li>
<li>shiro<ol>
<li>是Apache公司的产品，属于轻量级框架<br>shiro四大核心</li>
</ol>
</li>
<li>身份认证：登录</li>
<li>授权：给当前登录人，授予角色和权限</li>
<li>密码学：指的就是对你的密码进行加密</li>
<li>session管理：shiro提供的session功能非常强大，不仅可以用于Bs架构还可以用于Cs架构，如果你把数据存储到shiro的session中它会自动同步到你的HttpSession中，shiro还可以对session进行crud<br>使用shiro</li>
<li>导入jar包<!-- shiro的支持包 -->
<dependency><br><groupid>org.apache.shiro</groupid><br><artifactid>shiro-all</artifactid><br><version>1.4.0</version><br><type>pom</type><br></dependency><br><!-- shiro与Spring的集成包 --><br><dependency><br><groupid>org.apache.shiro</groupid><br><artifactid>shiro-spring</artifactid><br><version>1.4.0</version><br></dependency></li>
<li><p>创建shiro配置<br> &lt;?xml version=”1.0” encoding=”UTF-8”?&gt;</p>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemalocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"><br><!--shiro的核心对象--><br><bean id="securityManager" class="org.apache.shiro.web.mgt.DefaultWebSecurityManager"><br> <property name="realm" ref="itsourceRealm"><br></property></bean><br><!--自定义realm--><br><bean id="itsourceRealm" class="com.sunlei.aisell.realm.ItsourceRealm"><br> <property name="credentialsMatcher"><br>     <bean class="org.apache.shiro.authc.credential.HashedCredentialsMatcher"><br>         <property name="hashAlgorithmName" value="MD5"><br>         <property name="hashIterations" value="10"><br>     </property></property></bean><br> </property><br></bean><br><!--
 处理    代理过滤器拦截的所有请求
 注意事项:该bean的id必须要和代理过滤器的name一致,否则报错
--><br><bean id="shiroFilter" class="org.apache.shiro.spring.web.ShiroFilterFactoryBean"><br> <property name="securityManager" ref="securityManager"><br> <!-- 如果你的请求,没有认证或者没有认证通过,或者注销之后,都跳转到loginUrl对应的请求中--><br> <property name="loginUrl" value="/s/login.jsp"><br> <!--登录成功之后,跳转到successUrl对应的路径中--><br> <property name="successUrl" value="/s/index"><br><br> <!--没有权限都跳转到unauthorizedUrl对应的路径中--><br> <property name="unauthorizedUrl" value="/s/unauthorized.jsp"><br><br> <!--过滤器链的定义--><br> <property name="filterChainDefinitions"><br>     <value><br>         <!--直接放行不进行拦截--><br>         /s/login.jsp = anon<br>         /login=anon<br>         /logout=logout<br>         /dept/index=perms[“dept:index”]<br>         /dept/save=perms[“dept:save”]<br>         /dept/delete=perms[“dept:delete”]<br>         /dept/update=perms[“dept:update”]<br>         /permission/index=perms[“permission:index”]<br>         <!--
         /*与/**的区别:
                  /* 表示拦截所有的请求,你的请求只能拦截一级,多级无法拦截
                  /**:表示拦截所有的请求,你的请求1级或者多级都可以正常拦截
                authc:认证通过之后才能放行
                anon:匿名过滤器,直接放行
                logout:注销
          --><br>         /** = authc<br>     </value><br> </property><br></property></property></property></property></bean><br></beans></li>
<li>自定义realm</li>
<li>创建MD5工具类</li>
</ol>
</li>
</ol>
<pre><code>3. 集成spring

shiroMD5加密        

    登录时用密码匹配器
</code></pre><h1 id="java操作办公软件：word-ppt-excel-pdf"><a href="#java操作办公软件：word-ppt-excel-pdf" class="headerlink" title="java操作办公软件：word ppt excel pdf"></a>java操作办公软件：word ppt excel pdf</h1><p>easypoi</p>
<h1 id="数据字典"><a href="#数据字典" class="headerlink" title="数据字典"></a>数据字典</h1><p>简单理解就是对表的抽取<br>在真实开发项目中，我们会遇到很多基础表，这些基础表都有一个公共的特性：</p>
<pre><code>1. 字段非常少
2. 数据也非常少
</code></pre><p>使用数据字典的注意事项：</p>
<pre><code>1. 字段必须得少，最多三个字段
2. 如果该表存在，上下级关系也是不能用数据字典
3. 数据量不能过大，最多不超过20个以上
</code></pre><h1 id="图形化界面报表"><a href="#图形化界面报表" class="headerlink" title="图形化界面报表"></a>图形化界面报表</h1><ol>
<li>html5<ol>
<li>优点：占用带宽小，稳定</li>
<li>缺点：兼容性差(IE8以下是不能使用html5)</li>
</ol>
</li>
<li>flash<ol>
<li>优点：市面上基本上所有的浏览器都兼容</li>
<li>缺点：占用带宽大，不稳定<br>专门做图形化界面的插件：</li>
<li>ECharts</li>
<li>HightCharts<h1 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h1><h1 id="发送邮件"><a href="#发送邮件" class="headerlink" title="发送邮件"></a>发送邮件</h1></li>
</ol>
</li>
</ol>
<h1 id="问题汇总"><a href="#问题汇总" class="headerlink" title="问题汇总"></a>问题汇总</h1><h2 id="easyUi分页数据只展示第一页"><a href="#easyUi分页数据只展示第一页" class="headerlink" title="easyUi分页数据只展示第一页"></a>easyUi分页数据只展示第一页</h2><p>query里面加两个方法<br>    public void setPage(Integer page){<br>        this.currentPage=page;<br>    }<br>    public void  setRows(Integer rows){<br>        this.pageSize=rows;<br>    }</p>
<h1 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h1><h2 id="登录页面"><a href="#登录页面" class="headerlink" title="登录页面"></a>登录页面</h2><pre><code>1. 登录页面
2. 根据用户名动态显示头像 类似QQ登陆

//实时展示头像
$(function ($) {
    //1.校验用户输入的是正则表达式 先定义正则
    var emailFormat = /^[a-zA-Z0-9]/;
    // var flag = &apos;true&apos;;
    //2.当失去用户焦点的时候校验用户名
    var lastvalue = null;
    $(&apos;#user&apos;).on(&apos;blur&apos;, function () {
        //获取用户输入内容
        var value = $(this).val();
        if (!value || !emailFormat.test(value)) return;
        if (value !== lastvalue) {
            // 接下来需要通过用户名找到对应的头像地址，然后将头像地址改到img的src上
            $.get(&apos;/headImage&apos;, {name: value}, function (res) {
                if (!res) {
                    $(&apos;.avatar&apos;).fadeOut(function () {
                        $(this).on(&apos;load&apos;, function () {
                            $(this).fadeIn()
                        }).attr(&apos;src&apos;, &quot;&quot;);
                    })
                    $(&quot;#spanshow1&quot;).show()
                    $(&quot;#spanshow2&quot;).show()
                    return;
                }
hideSpan()
                $(&apos;.avatar&apos;).fadeOut(function () {
                    $(this).on(&apos;load&apos;, function () {
                        $(this).fadeIn()
                    }).attr(&apos;src&apos;, res);
                })

                // flag = false;
                // $(&apos;.avatar&apos;).fadeOut(function () {
                //   $(this).on(&apos;load&apos;,function () {
                //     $this.fadeIn();
                //   }).attr(&apos;src&apos;, res);
                // })
            })
        }
        lastvalue = value;
    })

})

3. 记住密码cookie

 saveCookie(){ //设置cookie
    var username = $(&quot;#user&quot;).val(); //获取用户名信息
    var password = $(&quot;#passwd&quot;).val(); //获取登陆密码信息
    var  img = $(&quot;#head&quot;).attr(&apos;src&apos;);
    console.debug(111)
    var checked = $(&apos;#brand1&apos;).val()//获取“是否记住密码”复选框
    if(checked==1){ //判断是否选中了“记住密码”复选框
        $.cookie(&quot;username&quot;,username);//调用jquery.cookie.js中的方法设置cookie中的用户名    
        $.cookie(&quot;password&quot;,$.base64.encode(password));//调用jquery.cookie.js中的方法设置cookie中的登陆密码，并使用base64（jquery.base64.js）进行加密    
        $.cookie(&quot;img&quot;,img);//调用jquery.cookie.js中的方法设置cookie中的登陆密码，并使用base64（jquery.base64.js）进行加密    
    }else{
        //$.cookie(&quot;password&quot;, null);
    }
}
function getCookie(){ //获取cookie    
    var username = $.cookie(&quot;username&quot;); //获取cookie中的用户名    
    var password =  $.cookie(&quot;password&quot;); //获取cookie中的登陆密码
    var  img = $.cookie(&quot;img&quot;);
    console.debug(img)
    if(password){//密码存在的话把“记住用户名和密码”复选框勾选住   
        $(&quot;#remberme&quot;).click();
    }
    if(username){//用户名存在的话把用户名填充到用户名文本框    
        $(&quot;#user&quot;).val(username);
    }
    if(password){//密码存在的话把密码填充到密码文本框    
        $(&quot;#passwd&quot;).val($.base64.decode(password));
    }
    if(img){//密码存在的话把密码填充到密码文本框    
        hideSpan()
        $(&quot;#head&quot;).attr(&quot;src&quot;,img)
    }
}
//清除cookie
function clearCookie(name) {
    $.cookie(name, &quot;&quot;, -1);
}
if ($.cookie(&quot;password&quot;)){
    getCookie()
}

4. 提示---display，opacity属性
</code></pre><h2 id="主页"><a href="#主页" class="headerlink" title="主页"></a>主页</h2><pre><code>1. 显示登录用户圆形头像
    .loginUser img{
        width: 50px;
        height: 50px;
        display: flex;
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }
2. 拖动标签页
3. 标签页右键菜单
</code></pre><h2 id="标签页面"><a href="#标签页面" class="headerlink" title="标签页面"></a>标签页面</h2><pre><code>1. 添加数据完成时跳到添加数据位置
2. 右键菜单
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/27/（Spring+SpringDataJPA+SpringMVC+EasyUI+Maven)-智能商贸/" data-id="ck0cb6tak00128ktdu3dskwpl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/07/14/面试题/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          面试题
        
      </div>
    </a>
  
  
    <a href="/2019/06/24/spring/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/09/数据库优化/">数据库优化</a>
          </li>
        
          <li>
            <a href="/2019/09/09/多线程和线程并发库/">多线程和线程并发库</a>
          </li>
        
          <li>
            <a href="/2019/09/08/Java新特性/">Java新特性</a>
          </li>
        
          <li>
            <a href="/2019/09/08/JVM优化/">JVM优化</a>
          </li>
        
          <li>
            <a href="/2019/09/07/数据结构/">数据结构</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 sunlei<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>